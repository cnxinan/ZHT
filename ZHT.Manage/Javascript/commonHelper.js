(function (a, c) {
    this.KnowingDo = new Object(); var b = this.KnowingDo; b.InputSet = { doChecked: function (g, h) { var e = $(g).attr("checked") != undefined; $(g).click(function () { var i = e ? $(this).attr("checked") : $(this).prop("checked"); $(h).each(function () { f($(this), i) }) }); $(h).click(function () { f($(g), d()) }); function f(j, i) { if (e) { if (!j.attr("disabled")) { j.attr("checked", i ? "checked" : "") } } else { if (!j.prop("disabled")) { j.prop("checked", i ? "checked" : "") } } } function d() { var i = false; $(h).each(function () { if (e) { if (!$(this).attr("disabled")) { i = $(this).attr("checked") } else { i = true } } else { if (!$(this).prop("disabled")) { i = $(this).prop("checked") } else { i = true } } if (!i) { return false } }); return i } } }; b.UrlConfigSet = { getQuery: function (d) { var e = new RegExp("(^|&)" + d.toLowerCase() + "=([^&]*)(&|$)"); var f = window.location.search.substr(1).toLowerCase().match(e); if (f != null) { return decodeURI(f[2]) } return "" }, setQuery: function (d) { for (var e = 0; e < d.length; e++) { d[e] = d[e] + "=" + $("#" + d[e]).val() } return d.join("&") }, setQueryUrl: function (e) { var k = window.location.search.toLowerCase(); for (var f = 0; f < e.length; f++) { var d = "?"; var j = e[f].toLowerCase().split(":"); var g = new RegExp("[?]{1}" + j[0] + "=([^&]*)(&|$)"); var h = k.match(g); if (h == null) { g = new RegExp("[&]{1}" + j[0] + "=([^&]*)(&|$)"); h = k.match(g); d = "&" } if (h != null) { k = k.replace(d + j[0] + "=" + h[1], d + j[0] + "=" + j[1]) } else { if (k != "" && k != null) { k += "&" + j[0] + "=" + j[1] } else { k += "?"; k += j[0] + "=" + j[1] } } } return window.location.pathname + k }, delQueryUrl: function (j) { var k = window.location.search.toLowerCase(); for (var e = 0; e < j.length; e++) { var d = "?"; var h = j[e].toLowerCase(); var f = new RegExp("[?]{1}" + h + "=([^&]*)(&|$)"); var g = k.match(f); if (g == null) { f = new RegExp("[&]{1}" + h + "=([^&]*)(&|$)"); g = k.match(f); d = "&" } if (g != null) { if (d == "?") { if (k.indexOf("&") > 0) { k = k.replace(d + h + "=" + g[1] + "&", "?") } else { k = k.replace(d + h + "=" + g[1], "") } } else { k = k.replace(d + h + "=" + g[1], "") } } } return window.location.pathname + k }, setAndDelQueryUrl: function (h, m) { var g = window.location.search.toLowerCase(); for (var f = 0; f < h.length; f++) { var k = "?"; var e = h[f].toLowerCase().split(":"); var d = new RegExp("[?]{1}" + e[0] + "=([^&]*)(&|$)"); var l = g.match(d); if (l == null) { d = new RegExp("[&]{1}" + e[0] + "=([^&]*)(&|$)"); l = g.match(d); k = "&" } if (l != null) { g = g.replace(k + e[0] + "=" + l[1], k + e[0] + "=" + e[1]) } else { if (g != "" && g != null) { g += "&" + e[0] + "=" + e[1] } else { g += "?"; g += e[0] + "=" + e[1] } } } for (var f = 0; f < m.length; f++) { var k = "?"; var j = m[f].toLowerCase(); var d = new RegExp("[?]{1}" + j + "=([^&]*)(&|$)"); var l = g.match(d); if (l == null) { d = new RegExp("[&]{1}" + j + "=([^&]*)(&|$)"); l = g.match(d); k = "&" } if (l != null) { if (k == "?") { if (g.indexOf("&") > 0) { g = g.replace(k + j + "=" + l[1] + "&", "?") } else { g = g.replace(k + j + "=" + l[1], "") } } else { g = g.replace(k + j + "=" + l[1], "") } } } return window.location.pathname + g } }; b.CookieSet = { addCookie: function (d, e) { var f = new Date(); f.setTime(f.getTime() + 600 * 1000); document.cookie = d + "=" + escape(e) + ";expires=" + f.toGMTString() }, getCookie: function (e) { var d = document.cookie.match(new RegExp("(^| )" + e + "=([^;]*)(;|$)")); if (d != null) { return unescape(d[2]) } return null } }; b.Json = { binderJson: function (h, o) { if (b.isNull(o)) { return "" } var d = new Array(); var k = ""; var m = h[0]; try { k = b.node(o).innerHTML; if (!b.isNull(k)) { o = k } k = "" } catch (l) { } if (b.isNull(h[0])) { m = h; h = [h] } for (var f in m) { d.push(f) } if (d.length) { for (var g = 0; g < h.length; g++) { r1 = o; for (var f = 0; f < d.length; f++) { r1 = b.replaceStrAll(r1, "{" + (d[f].toString()) + "}", h[g][d[f]]) } r1 = b.replaceStrAll(r1, "{index}", g + 1); k += r1 } return k } return "" } }; b.Global = { modifyAHref: function () { $("a[href='#']").each(function () { $(this).attr("href", "javascript:void(0)") }) }, replaceErrorImg: function (d) { var f = document.getElementsByTagName("img"); for (var e = 0; e < f.length; e++) { f[e].onerror = function () { f[e].src = d } } }, staticNav: function (h) { var e = document.getElementById(h); var g = e.offsetTop; var d = e.clientWidth; function f() { var j = document.documentElement.scrollTop || document.body.scrollTop; if (j >= g) { var i = 0; $("#" + h).css("position", "fixed").css("top", i + "px").css("width", d).css("z-index", "1000000").addClass("staticNav") } else { $("#" + h).css("position", "") } } $(window).scroll(function () { f() }) }, toTop: function () { $("body").append('<div id="divToTop"  ><a title="返回顶部" href="javascript:void(0)" ></a></div>'); $("#divToTop").click(function () { $("html,body").animate({ scrollTop: 0 }, 1000) }).attr("style", "width:64px;position:fixed; left:50%; margin-left:580px; bottom:100px;_position:absolute;left:50%;_top:expression(eval(document.documentElement.scrollTop+document.documentElement.clientHeight-this.offsetHeight)-100);display: none;").find("a").attr("style", "background: url('http://izaijia.com/images/toTop.png') no-repeat;width: 54px; height: 54px; display: block;").mouseover(function () { $(this).css("background-position", "0 -55px") }).mouseout(function () { $(this).css("background-position", "0 0") }); window.onscroll = function () { d() }; function d() { if ((document.documentElement.scrollTop || document.body.scrollTop) > 0) { $("#divToTop").show() } else { $("#divToTop").hide() } } $(window).scroll(function () { d() }) }, setEnterBtn: function (d) {
        $("body").unbind("keydown"); $("body").keydown(function (f) {
            if (f.keyCode == 13) {
                $("#" + d).click(); return false
            }
        })
    }
    }; b.ShowDialog = { showTips: function (f) { if ($("#JS_TIPS")) { $(".JS_TIPS").remove(); clearTimeout(e) } var d = '<div class="JS_TIPS error" id="JS_TIPS" style="text-align: center;position: fixed;top: 0;left: 0;width: 100%;z-index: 10000;"><div  style="background-color: #eaa000;display: inline-block;min-width: 280px;padding: 5px 30px;color: #fff;">' + f + "</div></div>"; $("body").append(d); var e = setTimeout('$("#JS_TIPS").animate({ opacity: "0" }, 1000, function () {$(this).remove(); })', 2000) } }; b.RegExp = { isUrl: function (e) { var g = "^((https|http|ftp|rtsp|mms)?://)" + "?(([0-9a-zA-Z_!~*'().&=+$%-]+: )?[0-9a-zA-Z_!~*'().&=+$%-]+@)?" + "(([0-9]{1,3}\\.){3}[0-9]{1,3}" + "|" + "([0-9a-zA-Z_!~*'()-]+\\.)*" + "([0-9a-zA-Z][0-9a-zA-Z-]{0,61})?[0-9a-zA-Z]\\." + "[a-zA-Z]{2,6})" + "(:[0-9]{1,4})?" + "((/?)|" + "(/[0-9a-zA-Z_!~*'().;?:@&=+$,%#-]+)+/?)$"; var f = new RegExp(g); var d = !!(e.toLowerCase()).match(f); if (!d) { return false } return true } }; b.isNull = function (d) { return (d == "" || d == undefined || d == null) }; b.replaceStrAll = function (g, f, d) { var e = new RegExp(f, "g"); return g.replace(e, d) }; b.node = function (d) { return document.getElementById(d) }; b.doAjax = function (d) {
        var f = { type: "POST", url: "", data: "", error: function (i, h, g) { alert("信息加载失败！") }, beforeSend: function () { }, success: function (g, i, h) { }, direction: "right" }; var e = $.extend({}, f, d);

        try {
            $.ajax({ type: e.type, async: true, url: e.url, data: e.data, error: e.error, success: e.success, beforeSend: function () {
                b.Animate.LoadingSet.loadStart(e.direction); e.beforeSend()
            }
            }).always(function () { b.Animate.LoadingSet.loadEnd(e.direction) }).done(function (g) {
            })
        } catch (e) {
            b.Animate.LoadingSet.loadEnd();
        }
    }

    ; b.Animate = { LoadingSet: { loadStart: function (d) { if ($("#loadingbar").length === 0) { $("body").append('<div id=\'loadingbar\'><style type="text/css" id="loadingbarStyle">#loadingbar{position:fixed;z-index:2147483647;top:0;left:-6px;width:1%;height:2px;background:#b91f1f;-moz-border-radius:1px;-webkit-border-radius:1px;border-radius:1px;-moz-transition:all 500ms ease-in-out;-ms-transition:all 500ms ease-in-out;-o-transition:all 500ms ease-in-out;-webkit-transition:all 500ms ease-in-out;transition:all 500ms ease-in-out;}#loadingbar.left{left:100%;right:0;width:100%;}#loadingbar.up{left:0;top:100%;width:5px;bottom:0;height:100%;}#loadingbar.down{left:0;width:5px;height:0;}#loadingbar.waiting dd,#loadingbar.waiting dt{-moz-animation:pulse 2s ease-out 0 infinite;-ms-animation:pulse 2s ease-out 0 infinite;-o-animation:pulse 2s ease-out 0 infinite;-webkit-animation:pulse 2s ease-out 0 infinite;animation:pulse 2s ease-out 0 infinite;}#loadingbar dt{opacity:.6;width:180px;right:-80px;clip:rect(-6px,90px,14px,-6px);}#loadingbar dd{opacity:.6;width:20px;right:0;clip:rect(-6px,22px,14px,10px);}#loadingbar dd,#loadingbar dt{position:absolute;top:0;height:2px;-moz-box-shadow:#b91f1f 1px 0 6px 1px;-ms-box-shadow:#b91f1f 1px 0 6px 1px;-webkit-box-shadow:#B91F1F 1px 0 6px 1px;box-shadow:#B91F1F 1px 0 6px 1px;-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%;}#loadingbar.left dt{opacity:.6;width:180px;left:-4px;clip:rect(-6px,185px,14px,25px);}#loadingbar.left dd{opacity:.6;width:20px;left:0;margin:0;clip:rect(-6px,22px,14px,0px);}#loadingbar.left dd,#loadingbar.left dt{top:0;height:2px;}#loadingbar.down dt{opacity:.6;height:180px;top:auto;bottom:-47px;clip:rect(-6px,20px,130px,-6px);}#loadingbar.down dd{opacity:.6;height:20px;top:auto;bottom:0;clip:rect(-6px,22px,20px,10px);margin:0;}#loadingbar.down dd,#loadingbar.down dt{left:-5px;right:auto;width:10px;}#loadingbar.up dt{opacity:.6;height:180px;bottom:auto;top:-10px;clip:rect(13px,20px,190px,-6px);}#loadingbar.up dd{opacity:.6;height:20px;bottom:auto;top:0;clip:rect(-6px,22px,25px,10px);margin:0;}#loadingbar.up dd,#loadingbar.up dt{left:-5px;right:auto;width:10px;}@keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-moz-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-ms-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}@-webkit-keyframes pulse{30opacity:0.6;}60%{opacity:0;}100%{opacity:0.6;}}</style></div>'); $("#loadingbar").addClass("waiting").append($("<dt/><dd/>")); switch (d) { case "right": $("#loadingbar").width((50 + Math.random() * 30) + "%"); break; case "left": $("#loadingbar").addClass("left").animate({ right: 0, left: 100 - (50 + Math.random() * 30) + "%" }, 200); break; case "down": $("#loadingbar").addClass("down").animate({ left: 0, height: (50 + Math.random() * 30) + "%" }, 200); break; case "up": $("#loadingbar").addClass("up").animate({ left: 0, top: 100 - (50 + Math.random() * 30) + "%" }, 200); break } } }, loadEnd: function (d) { switch (d) { case "right": $("#loadingbar").width("101%").delay(200).fadeOut(400, function () { $(this).remove() }); break; case "left": $("#loadingbar").css("left", "0").delay(200).fadeOut(400, function () { $(this).remove() }); break; case "down": $("#loadingbar").height("101%").delay(200).fadeOut(400, function () { $(this).remove() }); break; case "up": $("#loadingbar").css("top", "0").delay(200).fadeOut(400, function () { $(this).remove() }); break } } } }
})(window);